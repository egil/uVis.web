define(["require","exports","uvis/property"],function(n,t,i){var u=i,r=u.uvis,f;(function(n){(function(){describe("Property",function(){var n="key",t="value";describe("Creating a normal Property",function(){it("should set its key and value if supplied",function(){var i=new r.Property(n,t),u;u=i.value,expect(i.key).toBe(n),expect(u).toBe(t)}),it("should not set its value",function(){var t=new r.Property(n),i;i=t.value,expect(t.key).toBe(n),expect(i).toBeUndefined()}),it('should always have a state of "current"',function(){var t=new r.Property(n);expect(t.state).toBe("current")})}),describe("Subscribing to a Property",function(){it("should notify subscribers about changes",function(){var i=new r.Property(n),u=!1,f;i.subscribe(function(n){u=!0,f=n.value}),i.value=t,expect(u).toBeTruthy(),expect(f).toBe(t)})}),describe("Unsubscribing from a Property",function(){it("should not notify unsubscribed about changes",function(){var i=new r.Property(n),u=!1,f=function(){u=!0};i.subscribe(f),i.unsubscribe(f),i.value=t,expect(u).toBeFalsy()})}),describe("Unsubscribing from a Property",function(){it("should only unsubscribe the targeted function",function(){var i=new r.Property(n),u=!1,f=function(){};i.subscribe(f),i.subscribe(function(){u=!0}),i.unsubscribe(f),i.value=t,expect(u).toBeTruthy()})}),describe("Getting a calculated value",function(){it("should return as an Promise object which results in a Property object once fulfilled",function(){var i=new r.Property(n),t;i.calculated.done(function(n){t=n}),expect(t.key).toBe(n)})})})})(n.spec||(n.spec={}));var t=n.spec})(t.uvis||(t.uvis={})),f=t.uvis})