define(["require","exports"],function(n,t){(function(n){(function(n){var t=function(){function n(n){this._isFulfilled=!1,this._isFailed=!1,n!==undefined&&this.fulfill(n)}return Object.defineProperty(n.prototype,"state",{get:function(){return this._isFailed?"failed":this._isFulfilled?"fulfilled":"unfulfilled"},enumerable:!0,configurable:!0}),n.prototype.fulfill=function(n){if(this._isFulfilled)throw new Error("Promise already fulfilled.");this._promisedValue=n,this._isFulfilled=!0,this.notify(this._doneFunctions,this._promisedValue)},n.prototype.failPromise=function(n){this._failError=n,this._isFailed=!0,this.notify(this._failFunctions,this._failError)},n.prototype.done=function(){for(var i=this,t=[],n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];return this._isFulfilled?this.notify(t,this._promisedValue):(this._doneFunctions===undefined&&(this._doneFunctions=[]),t.forEach(function(n){return i._doneFunctions.push(n)})),this},n.prototype.fail=function(){for(var i=this,t=[],n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];return this._isFailed?this.notify(t,this._failError):(this._failFunctions===undefined&&(this._failFunctions=[]),t.forEach(function(n){return i._failFunctions.push(n)})),this},n.prototype.notify=function(n,t){if(n=n===undefined?this._doneFunctions:n,n)while(n.length>0)n.shift()(t)},n}();n.Promise=t})(n.util||(n.util={}));var t=n.util})(t.uvis||(t.uvis={}));var i=t.uvis})